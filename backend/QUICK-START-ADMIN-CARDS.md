# ๐ ุฏููู ุงูุชุดุบูู ุงูุณุฑูุน - ูุธุงู ุงูุตูุงุญูุงุช ููุจุทุงูุงุช ุงูุฅุฏุงุฑูุฉ

## โก ุงูุชูููุฐ ูู 3 ุฎุทูุงุช

### ุงูุฎุทูุฉ 1๏ธโฃ: ุชูููุฐ SQL (ูุฑุฉ ูุงุญุฏุฉ ููุท)

**ุงูุชุญ MySQL ูุดุบูู:**
```sql
-- ูู ุงููุงุนุฏุฉ ุงููุฑูุฒูุฉ
USE central_db;

INSERT IGNORE INTO permissions (PermissionKey, NameAr, Category) VALUES
('ADMIN_DEPARTMENTS', 'ุฅุฏุงุฑุฉ ุงูุฃูุณุงู', 'system'),
('ADMIN_HOSPITAL',    'ุฅุฏุงุฑุฉ ุงููุณุชุดูู', 'system'),
('ADMIN_CLUSTERS',    'ุฅุฏุงุฑุฉ ุงููุณุชุดููุงุช (ุงูุชุฌูุน)', 'system');

-- ุชุญูู ูู ุงููุฌุงุญ
SELECT * FROM permissions WHERE PermissionKey IN ('ADMIN_DEPARTMENTS', 'ADMIN_HOSPITAL', 'ADMIN_CLUSTERS');
```

**โ ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
+----------------+---------------+---------------------------+---------+
| PermissionID   | PermissionKey | NameAr                    | Category|
+----------------+---------------+---------------------------+---------+
| ...            | ADMIN_DEPARTMENTS | ุฅุฏุงุฑุฉ ุงูุฃูุณุงู          | system  |
| ...            | ADMIN_HOSPITAL    | ุฅุฏุงุฑุฉ ุงููุณุชุดูู         | system  |
| ...            | ADMIN_CLUSTERS    | ุฅุฏุงุฑุฉ ุงููุณุชุดููุงุช (...)| system  |
+----------------+---------------+---------------------------+---------+
```

---

### ุงูุฎุทูุฉ 2๏ธโฃ: ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู

```bash
# ุฃููู ุงูุฎุงุฏู ุงูุญุงูู (Ctrl+C)
# ุซู ุดุบููู ูู ุฌุฏูุฏ
cd backend
node app.js
```

**โ ุงูุชุธุฑ ุงูุฑุณุงูุฉ:**
```
โ Server running on http://localhost:3001
โ Database connection established
```

---

### ุงูุฎุทูุฉ 3๏ธโฃ: ููุญ ุงูุตูุงุญูุงุช ูููุณุชุฎุฏููู

#### ุฃ) ุงูุชุญ ุตูุญุฉ ุงูุตูุงุญูุงุช:
```
http://localhost:3001/NewProjectMecca/public/admin/admin-permissions.html
```

#### ุจ) ุณุฌูู ุฏุฎูู ููุฏูุฑ (RoleID = 1 ุฃู 2)

#### ุฌ) ููุญ ุงูุตูุงุญูุงุช:
1. **ุงุฎุชุฑ ุงููุณุชุดูู** ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
2. **ุงุฎุชุฑ ุงููุณุชุฎุฏู** ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
3. **ูุนูู ุงูุตูุงุญูุงุช ุงููุทููุจุฉ:**
   - โ๏ธ ุฅุฏุงุฑุฉ ุงูุฃูุณุงู
   - โ๏ธ ุฅุฏุงุฑุฉ ุงููุณุชุดูู
   - โ๏ธ ุฅุฏุงุฑุฉ ุงููุณุชุดููุงุช (ุงูุชุฌูุน)
4. **ุงุถุบุท "ุญูุธ"**

---

## ๐ฏ ุงุฎุชุจุงุฑ ุงููุธุงู

### ุงุฎุชุจุงุฑ 1: ูุฏูุฑ ุงูุชุฌูุน

```
1. ุณุฌูู ุฏุฎูู: cluster.admin / admin123
2. ุงูุชุญ: http://localhost:3001/NewProjectMecca/public/admin/admin-hub.html
3. ุงููุชูุฌุฉ: ุฌููุน ุงูุจุทุงูุงุช ุงูุซูุงุซุฉ ุธุงูุฑุฉ โ
```

### ุงุฎุชุจุงุฑ 2: ูุฏูุฑ ูุณุชุดูู

```
1. ุณุฌูู ุฏุฎูู ููุฏูุฑ ูุณุชุดูู
2. ุงููุญู ุตูุงุญูุฉ "ุฅุฏุงุฑุฉ ุงููุณุชุดูู" ููุท
3. ุงูุชุญ: http://localhost:3001/NewProjectMecca/public/admin/admin-hub.html
4. ุงููุชูุฌุฉ: ุจุทุงูุฉ "ุฅุฏุงุฑุฉ ุงููุณุชุดูู" ููุท ุธุงูุฑุฉ โ
```

### ุงุฎุชุจุงุฑ 3: ููุธู ุนุงุฏู

```
1. ุณุฌูู ุฏุฎูู ูููุธู
2. ุงููุญู ุตูุงุญูุฉ "ุฅุฏุงุฑุฉ ุงูุฃูุณุงู" ููุท
3. ุงูุชุญ: http://localhost:3001/NewProjectMecca/public/admin/admin-hub.html
4. ุงููุชูุฌุฉ: ุจุทุงูุฉ "ุฅุฏุงุฑุฉ ุงูุฃูุณุงู" ููุท ุธุงูุฑุฉ โ
```

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ุงูุณุฑูุน

### โ ุงูุจุทุงูุงุช ูุง ุชุธูุฑุ

**ุงูุชุญ Console ุงููุชุตูุญ (F12) โ Console:**
```javascript
// ูุฌุจ ุฃู ุชุฑู:
โ ุงูุตูุงุญูุงุช: {adminDepartments: true, adminHospital: true, ...}
๐ ูู ูุฏูุฑ ุงูุชุฌูุนุ true
โ ุฅุธูุงุฑ ุงูุจุทุงูุฉ: cardAdminDepts
โ ุฅุธูุงุฑ ุงูุจุทุงูุฉ: cardAdminHospital
โ ุฅุธูุงุฑ ุงูุจุทุงูุฉ: cardAdminClusters
```

**ุฅุฐุง ุฑุฃูุช:**
```javascript
โ ูุดู ุฌูุจ ุงูุตูุงุญูุงุช: 401
โ๏ธ ูุง ููุฌุฏ ุชููู
```

**ุงูุญู:**
1. ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู
2. ุชุญูู ูู `localStorage.getItem('token')` ูู Console
3. ุณุฌูู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู

---

### โ ูุง ูููู ุงูุญูุธุ

**ุงูุชุญ Console ุงููุชุตูุญ โ Network โ PUT request:**
```
Status: 200 OK โ
Response: {"ok": true}
```

**ุฅุฐุง ุฑุฃูุช:**
```
Status: 400/403/500 โ
```

**ุงูุญู:**
1. ุชุญูู ูู ุฏูุฑู (ูุฌุจ ุฃู ุชููู ูุฏูุฑ)
2. ุชุญูู ูู ุงุฎุชูุงุฑ ุงููุณุชุดูู
3. ุงูุญุต logs ุงูุฎุงุฏู

---

## ๐ ุงูุตูุงุญูุงุช ุงูุซูุงุซุฉ

| ุงูุตูุงุญูุฉ | ุงูููุชุงุญ | ุงูุจุทุงูุฉ ุงููุฑุชุจุทุฉ |
|----------|---------|-------------------|
| ุฅุฏุงุฑุฉ ุงูุฃูุณุงู | `ADMIN_DEPARTMENTS` | admin-departments.html |
| ุฅุฏุงุฑุฉ ุงููุณุชุดูู | `ADMIN_HOSPITAL` | admin-hospital.html |
| ุฅุฏุงุฑุฉ ุงููุณุชุดููุงุช (ุงูุชุฌูุน) | `ADMIN_CLUSTERS` | admin-hospitals.html |

---

## ๐ ุฃูุซูุฉ ุงูุงุณุชุฎุฏุงู

### ูุซุงู 1: ูุฏูุฑ ุนูููุงุช ุงููุณุชุดูู
**ูุญุชุงุฌ:**
- โ ุฅุฏุงุฑุฉ ุงููุณุชุดูู (ุงููุณุชุฎุฏูููุ ุงูุตูุงุญูุงุชุ ุงูุณุฌูุงุช)
- โ ุฅุฏุงุฑุฉ ุงูุฃูุณุงู

**ุงููุญู:**
```
โ๏ธ ุฅุฏุงุฑุฉ ุงูุฃูุณุงู
โ๏ธ ุฅุฏุงุฑุฉ ุงููุณุชุดูู
โ ุฅุฏุงุฑุฉ ุงููุณุชุดููุงุช (ุงูุชุฌูุน)
```

---

### ูุซุงู 2: ูุณุคูู ุงูุฃูุณุงู
**ูุญุชุงุฌ:**
- โ ุฅุฏุงุฑุฉ ุงูุฃูุณุงู ููุท

**ุงููุญู:**
```
โ๏ธ ุฅุฏุงุฑุฉ ุงูุฃูุณุงู
โ ุฅุฏุงุฑุฉ ุงููุณุชุดูู
โ ุฅุฏุงุฑุฉ ุงููุณุชุดููุงุช (ุงูุชุฌูุน)
```

---

### ูุซุงู 3: ูุฏูุฑ ุงูุชุฌูุน
**ูุญุตู ุนูููุง ุชููุงุฆูุงู:**
```
โ๏ธ ุฅุฏุงุฑุฉ ุงูุฃูุณุงู (ุชููุงุฆู)
โ๏ธ ุฅุฏุงุฑุฉ ุงููุณุชุดูู (ุชููุงุฆู)
โ๏ธ ุฅุฏุงุฑุฉ ุงููุณุชุดููุงุช (ุงูุชุฌูุน) (ุชููุงุฆู)
```

---

## ๐ ุงูููุงุนุฏ ุงููููุฉ

1. **ูุฏูุฑ ุงูุชุฌูุน**: ูุฑู ุฌููุน ุงูุจุทุงูุงุช ุชููุงุฆูุงู (ูุง ูุญุชุงุฌ ููุญ ุตูุงุญูุงุช)
2. **ูุฏูุฑ ุงููุณุชุดูู**: ูุญุชุงุฌ ุตูุงุญูุงุช ุตุฑูุญุฉ ููู ุจุทุงูุฉ
3. **ุงูููุธู**: ูุญุชุงุฌ ุตูุงุญูุงุช ุตุฑูุญุฉ ููู ุจุทุงูุฉ
4. **ุงูุจุทุงูุงุช ุงููุฎููุฉ**: ูุง ุชุธูุฑ ุฅูุง ุจุตูุงุญูุฉ ุตุญูุญุฉ
5. **ุงูุญูุธ**: ูุญุชุงุฌ ุฏูุฑ ูุฏูุฑ (RoleID = 1 ุฃู 2)

---

## ๐ ุงูุฏุนู

**ุฅุฐุง ูุงุฌูุช ูุดููุฉ:**
1. ุงูุญุต Console ุงููุชุตูุญ (F12)
2. ุงูุญุต Network tab
3. ุงูุญุต logs ุงูุฎุงุฏู
4. ุฑุงุฌุน ุงูููู ุงููุงูู: `ADMIN-CARDS-PERMISSIONS-SYSTEM.md`

---

**โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู!**


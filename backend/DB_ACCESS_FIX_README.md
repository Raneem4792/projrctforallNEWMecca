# ุงูุญู ุงูุฏุงุฆู ููุดููุฉ ER_ACCESS_DENIED_ERROR

## ๐ฏ ุงููุดููุฉ
ุนูุฏ ุฅูุดุงุก ูุณุชุดูู ุฌุฏูุฏ ุฃู ูุญุงููุฉ ุงูุงุชุตุงู ุจูุณุชุดูู ููุฌูุฏุ ูุธูุฑ ุงูุฎุทุฃ:
```
ER_ACCESS_DENIED_ERROR: Access denied for user ''@'localhost' (using password: NO)
```

## โ ุงูุญู ุงููุทุจู

### 1. ุชูุธูู ููู ุงูุงุชุตุงู ูู tenantManager.js โ
- ุชู ุงุณุชุจุฏุงู ุฏุงูุฉ `pick` ุจุฏุงูุฉ `clean` ุงูุฃููู
- ุชูุธูู ููู ุงููุฑูุฒู ูุงูุจูุฆุฉ ูุจู ุงูุงุณุชุฎุฏุงู
- ุถูุงู ุนุฏู ุงุณุชุฎุฏุงู ููู ูุงุฑุบุฉ ุฃู ูุณุงูุงุช

### 2. ุชุฎุฒูู ุฅุนุฏุงุฏุงุช ุงูุงุชุตุงู ุนูุฏ ุฅูุดุงุก ูุณุชุดูู ุฌุฏูุฏ โ
- ูู `admin-hospitals.js`ุ ูุชู ุญูุธ DbHost/DbUser/DbPass/DbName ุชููุงุฆูุงู
- ุงุณุชุฎุฏุงู ููู ูู `.env` ูููู ุงูุชุฑุงุถูุฉ

### 3. ุชูุธูู ุงูุณุฌูุงุช ุงููุฏููุฉ
ูู ุจุชุดุบูู ุงูุณูุฑุจุช ุงูุชุงูู ุนูู ุงููุงุนุฏุฉ ุงููุฑูุฒูุฉ:

```bash
mysql -u root -p hospitals_mecca4 < backend/sql/cleanup_hospitals_db_config.sql
```

ุฃู ูู ุจุชุดุบููู ูุฏููุงู ูู Workbench/phpMyAdmin.

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

1. **ุชุฃูุฏ ูู ุชุดุบูู ุงูุณูุฑุจุช**: 
   ```bash
   mysql -u root -p hospitals_mecca4 < backend/sql/cleanup_hospitals_db_config.sql
   ```

2. **ุฃุนุฏ ุชุดุบูู ุงูุณูุฑูุฑ**:
   ```bash
   npm start
   ```

3. **ุงุฎุชุจุฑ ุงูุงุชุตุงู**:
   ```bash
   curl http://localhost:3001/api/health/db/central
   curl http://localhost:3001/api/health/db/tenant/10
   ```

## ๐ ุงูุชุญูู ูู ุงููุฌุงุญ

ุจุนุฏ ุงูุชุดุบููุ ุชุฃูุฏ ูู:
- โ ุฌููุน ุงููุณุชุดููุงุช ูุฏููุง DbHost/DbUser/DbPass/DbName
- โ ูุง ุชูุฌุฏ ููู ูุงุฑุบุฉ ุฃู ูุณุงูุงุช ููุท
- โ ุงูุงุชุตุงู ูุนูู ูุฌููุน ุงููุณุชุดููุงุช (ูุฏููุฉ ูุฌุฏูุฏุฉ)

## ๐ ููุงุญุธุงุช

- ุงูุณูุฑุจุช ูุนูู ุจุดูู ุขูู (idempotent) - ูููู ุชุดุบููู ุนุฏุฉ ูุฑุงุช
- ูุง ูุคุซุฑ ุนูู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ
- ูุญุฏูุซ ููุท ุงูุณุฌูุงุช ุงูุชู ุชุญุชุงุฌ ุชูุธูู

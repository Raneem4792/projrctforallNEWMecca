<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ูุธุงู ุงูุจูุงุบุงุช - ุชุฌูุน ููุฉ ุงูููุฑูุฉ ุงูุตุญู</title>

  <!-- ุฎุท Tajawal ููุนุฑุจูุฉ -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">

  <!-- Theme controller (applies saved mode before rendering) -->
  <script src="../public/assets/js/theme.js"></script>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // โ ุฅุนุฏุงุฏ Dark Mode ูู Tailwind
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: '#002B5B'
          }
        }
      }
    }
  </script>

  <!-- ูููุงุช CSS ู JS ุงูุฎุงุตุฉ ุจุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ -->
  <link rel="stylesheet" href="../public/assets/css/styles.css" />
  <link rel="stylesheet" href="index.css" />
</head>
<body class="bg-white dark:bg-gray-900 transition-colors duration-300">

  <!-- Header - ุดุฑูุท ุงูุชููู ุงูุนููู -->
  <header id="navbar" class="fixed w-full top-0 z-50 navbar-scroll bg-[#002B5B] dark:bg-gray-900 transition-colors duration-300">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between h-16">
        <!-- Logo - ุงูุดุนุงุฑ -->
        <div class="flex items-center">
          <img src="../public/assets/img/logo3.png" alt="ุดุนุงุฑ ุชุฌูุน ููุฉ ุงูููุฑูุฉ ุงูุตุญู" class="h-16 w-auto">
        </div>
        
        <!-- Navigation - ูุงุฆูุฉ ุงูุชููู -->
        <nav class="hidden md:flex items-center space-x-reverse space-x-8">
          <a href="landing.html" id="nav-home" class="text-white hover:text-blue-200 dark:hover:text-blue-300 transition-colors">ุงูุฑุฆูุณูุฉ</a>
          <a href="../dashboard/dashboard.html" id="nav-dashboard" class="text-white hover:text-blue-200 dark:hover:text-blue-300 transition-colors">ููุญุฉ ุงูุชุญูู</a>
          <a href="../public/profile.html" id="nav-profile" class="text-white hover:text-blue-200 dark:hover:text-blue-300 transition-colors hidden">ูููู ุงูุดุฎุตู</a>
          <a href="about-system.html" id="nav-about" class="text-white hover:text-blue-200 dark:hover:text-blue-300 transition-colors">ุญูู ุงููุธุงู</a>
          <a href="help.html" id="nav-help" class="text-white hover:text-blue-200 dark:hover:text-blue-300 transition-colors">ุงููุณุงุนุฏุฉ</a>
          <a href="contact.html" id="nav-contact" class="text-white hover:text-blue-200 dark:hover:text-blue-300 transition-colors">ุงุชุตู ุจูุง</a>

          <!-- ๐ ููุงู ุงูุชุฑุญูุจ -->
          <span id="nav-greeting"
                class="text-white hover:text-blue-200 dark:hover:text-blue-300 transition-colors hidden md:inline-block">
          </span>

          <button id="languageToggle" class="text-white hover:text-blue-200 dark:hover:text-blue-300 transition-colors flex items-center">
            ๐ English
          </button>

          <!-- ุฒุฑ ุชุจุฏูู ุงููุถุน ุงูุฏุงูู -->
          <button id="darkToggle" class="text-white hover:text-blue-200 dark:hover:text-blue-300 transition-colors flex items-center gap-2 p-2 rounded-lg hover:bg-white/10 dark:hover:bg-white/20" aria-label="ุชุจุฏูู ุงููุถุน ุงูุฏุงูู">
            <span id="darkToggleIcon">๐</span>
            <span id="darkToggleText" class="hidden md:inline">ุงููุถุน ุงูุฏุงูู</span>
          </button>
        </nav>
        
        <!-- Mobile menu button - ุฒุฑ ุงููุงุฆูุฉ ููููุจุงูู -->
        <button class="md:hidden text-white">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>
  </header>

  <!-- Hero Section - ุงููุณู ุงูุฑุฆูุณู -->
  <section class="hero-gradient dark:bg-gradient-to-br dark:from-gray-800 dark:to-gray-900 pt-24 pb-28 transition-colors duration-300">
    <div class="container mx-auto px-4">
      <div class="flex flex-col lg:flex-row items-center">
        <div class="lg:w-[55%] text-center lg:text-right mb-8 lg:mb-0">
          <h1 id="hero-title" class="text-3xl lg:text-4xl font-bold text-gray-900 dark:text-white mb-4 animate-fade-in-up">
            ููุตุฉ ุฑุณููุฉ ูุชูุฏูู ููุชุงุจุนุฉ ุงูุจูุงุบุงุช
          </h1>
          <p id="hero-subtitle" class="text-lg text-gray-600 dark:text-gray-300 mb-8 animate-fade-in-up">
            ุจููุบุ ุชุงุจุนุ ูุชูููู ุงูุญู
          </p>
        </div>
        <div class="lg:w-[45%] flex justify-center">
          <div class="w-48 h-48 bg-blue-50 dark:bg-blue-900/40 rounded-full flex items-center justify-center shadow-sm dark:shadow-lg dark:shadow-blue-900/20">
            <svg class="w-28 h-28 text-blue-600 dark:text-blue-400" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/>
              <path d="M14 2v6h6"/>
              <path d="M16 13H8"/>
              <path d="M16 17H8"/>
              <path d="M10 9H8"/>
            </svg>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section - ูุณู ุงูุฎุฏูุงุช -->
  <section class="py-16 bg-white dark:bg-gray-900">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 id="services-title" class="text-3xl font-bold text-gray-900 dark:text-white mb-4">ุงูุฎุฏูุงุช ุงูุฃุณุงุณูุฉ</h2>
        <p id="services-subtitle" class="text-gray-600 dark:text-gray-300">ุงุฎุชุฑ ุงูุฎุฏูุฉ ุงูููุงุณุจุฉ ูู</p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- Service 1 - ุชูุฏูู ุจูุงุบ ุฌุฏูุฏ -->
        <div id="cardSubmit" class="card-hover bg-white dark:bg-gray-800 rounded-xl p-7 shadow-lg border border-gray-100 dark:border-gray-700 transform scale-105" style="display:none"
             tabindex="0" role="button" aria-label="ุชูุฏูู ุจูุงุบ ุฌุฏูุฏ" onclick="window.location.href='../public/complaints/submit/submit-complaint.html'">
          <div class="service-icon w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4 mx-auto">
            <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
            </svg>
          </div>
          <h3 id="service1-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ุชูุฏูู ุจูุงุบ ุฌุฏูุฏ</h3>
          <p id="service1-desc" class="text-gray-600 dark:text-gray-300 text-center">ุฑูุน ุจูุงุบ ุฑุณูู ุจุณูููุฉ</p>
          <div class="text-center mt-3">
            <span id="service1-action" class="text-blue-600 dark:text-blue-400 text-sm font-medium">ุงุจุฏุฃ ุงูุขู โ</span>
          </div>
        </div>

        <!-- Service 2 - ูุชุงุจุนุฉ ุจูุงุบ -->
        <div id="cardTrack" class="card-hover bg-white dark:bg-gray-800 rounded-xl p-7 shadow-lg border border-gray-100 dark:border-gray-700 transform scale-105" style="display:none"
             tabindex="0" role="button" aria-label="ูุชุงุจุนุฉ ุจูุงุบ" onclick="window.location.href='../public/complaints/track/track-complaint.html'">
          <div class="service-icon w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4 mx-auto">
            <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </div>
          <h3 id="service2-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ูุชุงุจุนุฉ ุจูุงุบ</h3>
          <p id="service2-desc" class="text-gray-600 dark:text-gray-300 text-center">ุชุชุจูุน ุญุงูุฉ ุงูุจูุงุบ</p>
          <div class="text-center mt-3">
            <span id="service2-action" class="text-blue-600 dark:text-blue-400 text-sm font-medium">ุงุจุฏุฃ ุงูุขู โ</span>
          </div>
        </div>

        <!-- Service 3 - ุณุฌู ุงูุจูุงุบุงุช -->
        <div id="cardHistory" class="card-hover bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-100 dark:border-gray-700" style="display:none"
             tabindex="0" role="button" aria-label="ุณุฌู ุงูุจูุงุบุงุช" onclick="window.location.href='../public/complaints/history/complaints-history.html'">
          <div class="service-icon w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4 mx-auto">
            <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
            </svg>
          </div>
          <h3 id="service3-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ุณุฌู ุงูุจูุงุบุงุช</h3>
          <p id="service3-desc" class="text-gray-600 dark:text-gray-300 text-center">ุนุฑุถ ุจูุงุบุงุชู ุงูุณุงุจูุฉ</p>
        </div>

        <!-- Service 5 - ุงููุดุงุฑูุน ุงูุชุญุณูููุฉ -->
        <div id="cardImprovements"
             class="card-hover bg-white dark:bg-gray-800 rounded-xl p-7 shadow-lg border border-gray-100 dark:border-gray-700"
             style="display:none"
             tabindex="0" role="button" aria-label="ุงููุดุงุฑูุน ุงูุชุญุณูููุฉ"
             onclick="window.location.href='../dashboard/improvements/list.html'">
          <div class="service-icon w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4 mx-auto">
            <!-- ุฃููููุฉ ูููุจ ุจูุฑุฏ ูุน ุนูุงูุฉ + -->
            <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <path stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    d="M9 2h6a2 2 0 012 2v2H7V4a2 2 0 012-2zM7 8h10v12a2 2 0 01-2 2H9a2 2 0 01-2-2V8z"/>
              <path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M12 12v6m-3-3h6"/>
            </svg>
          </div>
          <h3 id="service5-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ุงููุดุงุฑูุน ุงูุชุญุณูููุฉ</h3>
          <p id="service5-desc" class="text-gray-600 dark:text-gray-300 text-center">ุงุนุฑุถุ ุนุฏููุ ูุฃูุดุฆ ูุดุฑูุน ุชุญุณููู</p>
          <div class="text-center mt-3">
            <span id="service5-action" class="text-blue-600 dark:text-blue-400 text-sm font-medium">ุงูุชุญ ููุญุฉ ุงููุดุงุฑูุน โ</span>
          </div>
          <div id="service5-kpi" class="text-center mt-2 text-xs text-gray-500 dark:text-gray-400"></div>
        </div>

        <!-- Service 4 - ุงูุฅุฏุงุฑุฉ -->
        <a href="../public/admin/admin-hub.html" id="cardAdmin"
           class="block bg-white dark:bg-gray-800 rounded-xl p-7 shadow-lg border border-gray-100 dark:border-gray-700 hover:shadow-2xl hover:-translate-y-0.5 transition hidden"
           tabindex="0" role="button" aria-label="ุงูุฅุฏุงุฑุฉ">
          <div class="w-16 h-16 mx-auto mb-4 rounded-full bg-blue-50 dark:bg-blue-900/30 flex items-center justify-center">
            <!-- ุฃููููุฉ ุฅุฏุงุฑุฉ -->
            <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path stroke-width="2" d="M12 6V3m0 18v-3M6 12H3m18 0h-3M5 5l2.1 2.1M16.9 16.9 19 19M5 19l2.1-2.1M16.9 7.1 19 5"/>
              <circle cx="12" cy="12" r="3" stroke-width="2"/>
            </svg>
          </div>
          <h3 id="service4-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ุงูุฅุฏุงุฑุฉ</h3>
          <p id="service4-desc" class="text-gray-600 dark:text-gray-300 text-center">ุฅุฏุงุฑุฉ ุงููุณุชุดููุงุช ูุงููุณุชุดูู</p>
        </a>

        <!-- ูุฑุช ุฅุฑูุงู ุงูุฅูุณู -->
        <div id="cardImports" class="card-hover bg-white dark:bg-gray-800 rounded-xl p-7 shadow-lg border border-gray-100 dark:border-gray-700"
             tabindex="0" role="button" aria-label="ุฅุฑูุงู ุงูุฅูุณู"
             onclick="window.location.href='imports.html'">
          <div class="service-icon w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4 mx-auto">
            <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 16v2a2 2 0 002 2h12a2 2 0 002-2v-2M7 10l5 5 5-5M12 15V3"/>
            </svg>
          </div>
          <h3 id="service6-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ุฅุฑูุงู ุงูุฅูุณู</h3>
          <p id="service6-desc" class="text-gray-600 dark:text-gray-300 text-center">936 โข ุงูุฒุงุฆุฑ ุงูุณุฑู โข ุงูุฃูุณุงู</p>
          <div class="text-center mt-3">
            <span id="service6-action" class="text-blue-600 dark:text-blue-400 text-sm font-medium">ุงูุชุญ ุตูุญุฉ ุงูุฅุฑูุงู โ</span>
          </div>
        </div>

        <!-- Service 7 - ุจูุงุบุงุช ุงูุฒุงุฆุฑ ุงูุณุฑู -->
        <div id="cardMystery" data-card="mystery" class="card-hover bg-white dark:bg-gray-800 rounded-xl p-7 shadow-lg border border-gray-100 dark:border-gray-700"
             tabindex="0" role="button" aria-label="ุจูุงุบุงุช ุงูุฒุงุฆุฑ ุงูุณุฑู"
             onclick="window.location.href='../public/complaints/mystery/mystery-complaints.html'">
          <div class="service-icon w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4 mx-auto">
            <!-- ุฃููููุฉ "ุฒุงุฆุฑ ุณุฑู" (ุนูู/ูุธุงุฑุฉ) -->
            <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <path stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z"/>
              <circle cx="12" cy="12" r="3" stroke-width="2"/>
            </svg>
          </div>
          <h3 id="service7-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ุจูุงุบุงุช ุงูุฒุงุฆุฑ ุงูุณุฑู</h3>
          <p id="service7-desc" class="text-gray-600 dark:text-gray-300 text-center">ุนุฑุถ ููุชุงุจุนุฉ ุจูุงุบุงุช ุงูุฒุงุฆุฑ ุงูุณุฑู</p>
          <div class="text-center mt-3">
            <span id="service7-action" class="text-blue-600 dark:text-blue-400 text-sm font-medium">ุงูุชุญ ุงูุตูุญุฉ โ</span>
          </div>
        </div>

        <!-- Service 11 - ุชูุงุฑูุฑ ุจุฑุณุฌููู -->
        <div id="cardPressGaney" class="card-hover bg-white dark:bg-gray-800 rounded-xl p-7 shadow-lg border border-gray-100 dark:border-gray-700"
             tabindex="0" role="button" aria-label="ุชูุงุฑูุฑ ุจุฑุณุฌููู"
             onclick="window.location.href='../dashboard/pressganey/list.html'" style="display:none">
          <div class="service-icon w-16 h-16 bg-indigo-100 dark:bg-indigo-900/30 rounded-full flex items-center justify-center mb-4 mx-auto">
            <!-- ุฃููููุฉ ุฅุญุตุงุกุงุช -->
            <svg class="w-8 h-8 text-indigo-600 dark:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M4 6h16M4 10h16M4 14h10M4 18h6"/>
            </svg>
          </div>
          <h3 id="service11-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ุจุฑุณุฌููู (Press Ganey)</h3>
          <p id="service11-desc" class="text-gray-600 dark:text-gray-300 text-center">ุชุญููู ูุชุงุฆุฌ ุชุฌุฑุจุฉ ุงููุฑูุถ</p>
          <div class="text-center mt-3">
            <span id="service11-action" class="text-indigo-600 dark:text-indigo-400 text-sm font-medium">ุงูุชุญ ููุญุฉ ุจุฑุณุฌููู โ</span>
          </div>
        </div>

        <!-- Service 8 - ุฃุฑุดูู ุงููุฑููุงุช -->
        <div id="cardArchive" class="card-hover bg-white dark:bg-gray-800 rounded-xl p-7 shadow-lg border border-gray-100 dark:border-gray-700"
             tabindex="0" role="button" aria-label="ุฃุฑุดูู ุงููุฑููุงุช"
             onclick="window.location.href='archive.html'" style="display:none">
          <div class="service-icon w-16 h-16 bg-sky-100 dark:bg-sky-900/30 rounded-full flex items-center justify-center mb-4 mx-auto">
            <!-- ุฃููููุฉ ุงูุฃุฑุดูู (ุตูุฏูู) -->
            <svg class="w-8 h-8 text-sky-600 dark:text-sky-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
              <path stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"/>
            </svg>
          </div>
          <h3 id="service8-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ุฃุฑุดูู ุงููุฑููุงุช</h3>
          <p id="service8-desc" class="text-gray-600 dark:text-gray-300 text-center">ุฑูุน ูุญูุธ ุงููููุงุช ูู ุงูุฃุฑุดูู</p>
          <div class="text-center mt-3">
            <span id="service8-action" class="text-sky-600 dark:text-sky-400 text-sm font-medium">ุงูุชุญ ุงูุฃุฑุดูู โ</span>
          </div>
        </div>

        <!-- Service 9 - ุฅูุดุงุก ุจูุงุบ ุฅุฏุงุฑุฉ ุงูุชุฌูุน -->
        <div id="cardClusterCreate" class="card-hover bg-white dark:bg-gray-800 rounded-xl p-7 shadow-lg border border-gray-100 dark:border-gray-700"
             tabindex="0" role="button" aria-label="ุฅูุดุงุก ุจูุงุบ ุฅุฏุงุฑุฉ ุงูุชุฌูุน"
             onclick="openClusterCreate()" style="display:none">
          <div class="service-icon w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4 mx-auto">
            <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor">
              <path stroke-width="2" d="M12 2l7 7-7 7-7-7 7-7zm0 14v6m-3-3h6"/>
            </svg>
          </div>
          <h3 id="service9-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ุจูุงุบ ุฅุฏุงุฑุฉ ุงูุชุฌูุน (ุฌุฏูุฏ)</h3>
          <p id="service9-desc" class="text-gray-600 dark:text-gray-300 text-center">ุณุฌูู ููุงุญุธุฉ ููุฏุงููุฉ ูุน ูุฑููุงุช</p>
          <div class="text-center mt-3">
            <span id="service9-action" class="text-blue-600 dark:text-blue-400 text-sm font-medium">ุงุจุฏุฃ โ</span>
          </div>
        </div>

        <!-- Service 10 - ุนุฑุถ ุจูุงุบุงุช ุฅุฏุงุฑุฉ ุงูุชุฌูุน -->
        <div id="cardClusterList" class="card-hover bg-white dark:bg-gray-800 rounded-xl p-7 shadow-lg border border-gray-100 dark:border-gray-700"
             tabindex="0" role="button" aria-label="ุนุฑุถ ุจูุงุบุงุช ุฅุฏุงุฑุฉ ุงูุชุฌูุน"
             onclick="openClusterList()" style="display:none">
          <div class="service-icon w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mb-4 mx-auto">
            <svg class="w-8 h-8 text-blue-600 dark:text-blue-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <rect x="3" y="4" width="18" height="14" rx="2" ry="2" stroke-width="2"></rect>
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 20h8M12 16v4"/>
            </svg>
          </div>
          <h3 id="service10-title" class="text-xl font-bold text-gray-900 dark:text-white mb-2 text-center">ุจูุงุบุงุช ุฅุฏุงุฑุฉ ุงูุชุฌูุน</h3>
          <p id="service10-desc" class="text-gray-600 dark:text-gray-300 text-center">ุนุฑุถ ูููุชุฑุฉ ุงูุจูุงุบุงุช</p>
          <div class="text-center mt-3">
            <span id="service10-action" class="text-blue-600 dark:text-blue-400 text-sm font-medium">ุงูุชุญ ุงูุตูุญุฉ โ</span>
          </div>
        </div>
      </div>
      
    </div>
  </section>

  <!-- Why Us Section - ูุณู ููุงุฐุง ุชุฎุชุงุฑูุง -->
  <section class="py-16 bg-gray-50 dark:bg-gray-800">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <h2 id="why-choose-title" class="text-3xl font-bold text-gray-900 dark:text-white mb-4">ููุงุฐุง ุชุฎุชุงุฑ ูุธุงู ุงูุจูุงุบุงุชุ</h2>
        <p id="why-choose-subtitle" class="text-gray-600 dark:text-gray-300">ูููุฒุงุช ุชุฌุนู ุชุฌุฑุจุชู ุฃูุถู</p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
        <!-- Feature 1 - ุงูุฃูุงู ูุงูุฎุตูุตูุฉ -->
        <div class="text-center">
          <div class="w-14 h-14 bg-blue-600 dark:bg-blue-500 rounded-full flex items-center justify-center mb-4 mx-auto">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
            </svg>
          </div>
          <h3 id="feature1-title" class="text-lg font-bold text-gray-900 dark:text-white mb-3">ุฃูุงู ูุฎุตูุตูุฉ ูุถูููุฉ</h3>
          <p id="feature1-desc" class="text-gray-600 dark:text-gray-300">ุฌููุน ุงูุจูุงูุงุช ูุดูุฑุฉ ููุญููุฉ</p>
        </div>

        <!-- Feature 2 - ุงูุงุณุชุฌุงุจุฉ ุงูุณุฑูุนุฉ -->
        <div class="text-center">
          <div class="w-14 h-14 bg-blue-600 dark:bg-blue-500 rounded-full flex items-center justify-center mb-4 mx-auto">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M13 10V3L4 14h7v7l9-11h-7z"/>
            </svg>
          </div>
          <h3 id="feature2-title" class="text-lg font-bold text-gray-900 dark:text-white mb-3">ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ ุจูุคุดุฑุงุช ุฒูููุฉ ูุงุถุญุฉ</h3>
          <p id="feature2-desc" class="text-gray-600 dark:text-gray-300">ูุชู ุงูุชุนุงูู ูุน ุงูุจูุงุบ ููุฑ ุชุณุฌููู</p>
        </div>

        <!-- Feature 3 - ุงููุงุฌูุฉ ุงูุจุณูุทุฉ -->
        <div class="text-center">
          <div class="w-14 h-14 bg-blue-600 dark:bg-blue-500 rounded-full flex items-center justify-center mb-4 mx-auto">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
          </div>
          <h3 id="feature3-title" class="text-lg font-bold text-gray-900 dark:text-white mb-3">ูุงุฌูุฉ ุจุณูุทุฉ ุชุฏุนู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ</h3>
          <p id="feature3-desc" class="text-gray-600 dark:text-gray-300">ูุงุฌูุฉ ุจุณูุทุฉ ูุณุฑูุนุฉ ูุฌููุน ุงููุณุชุฎุฏููู</p>
        </div>

        <!-- Feature 4 - ุงููุชุงุจุนุฉ ุงููุณุชูุฑุฉ -->
        <div class="text-center">
          <div class="w-14 h-14 bg-blue-600 dark:bg-blue-500 rounded-full flex items-center justify-center mb-4 mx-auto">
            <svg class="w-7 h-7 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M15 17h5l-5 5-5-5h5v-5a7.5 7.5 0 00-7.5-7.5A7.5 7.5 0 0015 7v5z"/>
            </svg>
          </div>
          <h3 id="feature4-title" class="text-lg font-bold text-gray-900 dark:text-white mb-3">ูุชุงุจุนุฉ ุญุชู ุงูุฅุบูุงู ูุน ุฅุดุนุงุฑุงุช</h3>
          <p id="feature4-desc" class="text-gray-600 dark:text-gray-300">ุฅุดุนุงุฑุงุช ุฏูุฑูุฉ ุญุชู ุฅุบูุงู ุงูุจูุงุบ</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Stats Section - ูุณู ุงูุฅุญุตุงุฆูุงุช -->
  <section class="py-16 stats-gradient dark:bg-gray-800 text-white">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-3 gap-8 text-center">
        <div>
          <div class="counter text-4xl font-bold mb-2"
               data-target="0"
               data-stat="complaints-processed">0</div>
          <p id="stat1-desc" class="text-blue-200 dark:text-blue-300 font-light">ุจูุงุบ ููุนุงูุฌ</p>
        </div>
        <div>
          <div class="counter text-4xl font-bold mb-2"
               data-target="0"
               data-stat="active-beneficiaries">0</div>
          <p id="stat2-desc" class="text-blue-200 dark:text-blue-300 font-light">ูุณุชููุฏ ูุดุท</p>
        </div>
        <div>
          <div class="counter text-4xl font-bold mb-2"
               data-target="0"
               data-stat="hospital-coverage">0</div>
          <p id="stat3-desc" class="text-blue-200 dark:text-blue-300 font-light">ูุณุชุดูู ูุดุท</p>
        </div>
      </div>
    </div>
  </section>

  <!-- System Banner - ุดุนุงุฑ ุงููุธุงู -->
  <div id="system-banner" class="bg-gray-600 dark:bg-gray-700 text-white py-2 text-center text-sm">
    ููุตุฉ ุฑุณููุฉ ููุชุฌูุน ุงูุตุญู ุจููุฉ ุงูููุฑูุฉ
  </div>

  <!-- Footer - ุงูุชุฐููู -->
  <footer class="bg-gray-900 dark:bg-gray-950 text-white py-14">
    <div class="container mx-auto px-4">
      <div class="grid md:grid-cols-3 gap-8">
        <!-- Column 1 - ุงูุนููุฏ ุงูุฃูู -->
        <div>
          <div class="flex items-center space-x-reverse space-x-3 mb-4">
            <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center">
              <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path d="M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"/>
              </svg>
            </div>
            <div>
              <div id="footer-org-name" class="font-bold">ุชุฌูุน ููุฉ ุงูุตุญู</div>
              <div id="footer-system-name" class="text-sm text-gray-300">ูุธุงู ุงูุจูุงุบุงุช</div>
            </div>
          </div>
          <p id="footer-description" class="text-gray-300 text-sm">ููุตุฉ ุฑุณููุฉ ูุชูุฏูู ููุชุงุจุนุฉ ุงูุจูุงุบุงุช</p>
        </div>

        <!-- Column 2 - ุงูุนููุฏ ุงูุซุงูู -->
        <div>
          <h3 id="footer-links-title" class="font-bold mb-4">ุฑูุงุจุท ุณุฑูุนุฉ</h3>
          <ul class="space-y-2 text-sm">
            <li><a href="index.html" id="footer-link-home" class="text-gray-300 hover:text-white hover:underline transition-colors">ุงูุฑุฆูุณูุฉ</a></li>
            <li><a href="../public/complaints/submit/submit-complaint.html" id="footer-link-submit" class="text-gray-300 hover:text-white hover:underline transition-colors">ุชูุฏูู ุจูุงุบ</a></li>
            <li><a href="../public/complaints/track/track-complaint.html" id="footer-link-track" class="text-gray-300 hover:text-white hover:underline transition-colors">ูุชุงุจุนุฉ ุจูุงุบ</a></li>
            <li><a href="help.html" id="footer-link-faq" class="text-gray-300 hover:text-white hover:underline transition-colors">ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ</a></li>
          </ul>
        </div>

        <!-- Column 3 - ุงูุนููุฏ ุงูุซุงูุซ -->
        <div>
          <h3 id="footer-contact-title" class="font-bold mb-4">ูุนูููุงุช ุงูุชูุงุตู</h3>
          <div class="space-y-2 text-sm text-gray-300">
            <div class="flex items-baseline">
              <svg class="w-4 h-4 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
              </svg>
              <span id="footer-support-number">ุฑูู ุงูุฏุนู: 0559735137</span>
            </div>
            <div class="flex items-baseline">
              <svg class="w-4 h-4 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
              </svg>
              <span id="footer-support-number-2">ุฑูู ุงูุฏุนู: 0542282550</span>
            </div>
            <div class="flex items-baseline">
              <svg class="w-4 h-4 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
              </svg>
              <span id="footer-support-email">support@makkahhealth.gov.sa</span>
            </div>
            <div class="flex items-baseline">
              <svg class="w-4 h-4 mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
              <span id="footer-working-hours">ุณุงุนุงุช ุงูุนูู: 24/7</span>
            </div>
          </div>
        </div>
      </div>

      <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-300">
        <span id="footer-copyright">ยฉ 2025 ุชุฌูุน ููุฉ ุงูููุฑูุฉ ุงูุตุญู โ ุฌููุน ุงูุญููู ูุญููุธุฉ</span>
      </div>
    </div>
  </footer>

  <!-- JavaScript Files - ูููุงุช ุงูุฌุงูุงุณูุฑูุจุช -->
  <script src="../public/assets/js/app.js"></script>
  <script src="index.js"></script>
  
  <!-- Translation System - ูุธุงู ุงูุชุฑุฌูุฉ -->
  <script>
    // ุจูุงูุงุช ุงูุชุฑุฌูุฉ
    const translations = {
      ar: {
        // ุงูููุฏุฑ
        'nav-home': 'ุงูุฑุฆูุณูุฉ',
        'nav-dashboard': 'ููุญุฉ ุงูุชุญูู',
        'nav-profile': 'ูููู ุงูุดุฎุตู',
        'nav-about': 'ุญูู ุงููุธุงู',
        'nav-help': 'ุงููุณุงุนุฏุฉ',
        'nav-contact': 'ุงุชุตู ุจูุง',
        'language-button': '๐ English',
        
        // ุงููุณู ุงูุฑุฆูุณู
        'hero-title': 'ููุตุฉ ุฑุณููุฉ ูุชูุฏูู ููุชุงุจุนุฉ ุงูุจูุงุบุงุช',
        'hero-subtitle': 'ุจููุบุ ุชุงุจุนุ ูุชูููู ุงูุญู',
        
        // ุงูุฎุฏูุงุช
        'services-title': 'ุงูุฎุฏูุงุช ุงูุฃุณุงุณูุฉ',
        'services-subtitle': 'ุงุฎุชุฑ ุงูุฎุฏูุฉ ุงูููุงุณุจุฉ ูู',
        'service1-title': 'ุชูุฏูู ุจูุงุบ ุฌุฏูุฏ',
        'service1-desc': 'ุฑูุน ุจูุงุบ ุฑุณูู ุจุณูููุฉ',
        'service1-action': 'ุงุจุฏุฃ ุงูุขู โ',
        'service2-title': 'ูุชุงุจุนุฉ ุจูุงุบ',
        'service2-desc': 'ุชุชุจูุน ุญุงูุฉ ุงูุจูุงุบ',
        'service2-action': 'ุงุจุฏุฃ ุงูุขู โ',
        'service3-title': 'ุณุฌู ุงูุจูุงุบุงุช',
        'service3-desc': 'ุนุฑุถ ุจูุงุบุงุชู ุงูุณุงุจูุฉ',
        'service4-title': 'ุงูุฅุฏุงุฑุฉ',
        'service4-desc': 'ุฅุฏุงุฑุฉ ุงููุณุชุดููุงุช ูุงููุณุชุดูู',
        'service5-title': 'ุงููุดุงุฑูุน ุงูุชุญุณูููุฉ',
        'service5-desc': 'ุงุนุฑุถุ ุนุฏููุ ูุฃูุดุฆ ูุดุฑูุน ุชุญุณููู',
        'service5-action': 'ุงูุชุญ ููุญุฉ ุงููุดุงุฑูุน โ',
        'service6-title': 'ุฅุฑูุงู ุงูุฅูุณู',
        'service6-desc': '936 โข ุงูุฒุงุฆุฑ ุงูุณุฑู โข ุงูุฃูุณุงู',
        'service6-action': 'ุงูุชุญ ุตูุญุฉ ุงูุฅุฑูุงู โ',
        'service7-title': 'ุจูุงุบุงุช ุงูุฒุงุฆุฑ ุงูุณุฑู',
        'service7-desc': 'ุนุฑุถ ููุชุงุจุนุฉ ุจูุงุบุงุช ุงูุฒุงุฆุฑ ุงูุณุฑู',
        'service7-action': 'ุงูุชุญ ุงูุตูุญุฉ โ',
        'service8-title': 'ุฃุฑุดูู ุงููุฑููุงุช',
        'service8-desc': 'ุฑูุน ูุญูุธ ุงููููุงุช ูู ุงูุฃุฑุดูู',
        'service8-action': 'ุงูุชุญ ุงูุฃุฑุดูู โ',
        'service9-title': 'ุจูุงุบ ุฅุฏุงุฑุฉ ุงูุชุฌูุน (ุฌุฏูุฏ)',
        'service9-desc': 'ุณุฌูู ููุงุญุธุฉ ููุฏุงููุฉ ูุน ูุฑููุงุช',
        'service9-action': 'ุงุจุฏุฃ โ',
        'service10-title': 'ุจูุงุบุงุช ุฅุฏุงุฑุฉ ุงูุชุฌูุน',
        'service10-desc': 'ุนุฑุถ ูููุชุฑุฉ ุงูุจูุงุบุงุช',
        'service10-action': 'ุงูุชุญ ุงูุตูุญุฉ โ',
        'service11-title': 'ุจุฑุณุฌููู (Press Ganey)',
        'service11-desc': 'ุชุญููู ูุชุงุฆุฌ ุชุฌุฑุจุฉ ุงููุฑูุถ',
        'service11-action': 'ุงูุชุญ ููุญุฉ ุจุฑุณุฌููู โ',
        
        // ุงููููุฒุงุช
        'why-choose-title': 'ููุงุฐุง ุชุฎุชุงุฑ ูุธุงู ุงูุจูุงุบุงุชุ',
        'why-choose-subtitle': 'ูููุฒุงุช ุชุฌุนู ุชุฌุฑุจุชู ุฃูุถู',
        'feature1-title': 'ุฃูุงู ูุฎุตูุตูุฉ ูุถูููุฉ',
        'feature1-desc': 'ุฌููุน ุงูุจูุงูุงุช ูุดูุฑุฉ ููุญููุฉ',
        'feature2-title': 'ุงุณุชุฌุงุจุฉ ุณุฑูุนุฉ ุจูุคุดุฑุงุช ุฒูููุฉ ูุงุถุญุฉ',
        'feature2-desc': 'ูุชู ุงูุชุนุงูู ูุน ุงูุจูุงุบ ููุฑ ุชุณุฌููู',
        'feature3-title': 'ูุงุฌูุฉ ุจุณูุทุฉ ุชุฏุนู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ',
        'feature3-desc': 'ูุงุฌูุฉ ุจุณูุทุฉ ูุณุฑูุนุฉ ูุฌููุน ุงููุณุชุฎุฏููู',
        'feature4-title': 'ูุชุงุจุนุฉ ุญุชู ุงูุฅุบูุงู ูุน ุฅุดุนุงุฑุงุช',
        'feature4-desc': 'ุฅุดุนุงุฑุงุช ุฏูุฑูุฉ ุญุชู ุฅุบูุงู ุงูุจูุงุบ',
        
        // ุงูุฅุญุตุงุฆูุงุช
        'stat1-desc': '+15 ุฃูู ุจูุงุบ ููุนุงูุฌ',
        'stat2-desc': '+5 ุขูุงู ูุณุชููุฏ ูุดุท',
        'stat3-desc': '100% ุชุบุทูุฉ ูููุณุชุดููุงุช',
        
        // ุดุนุงุฑ ุงููุธุงู
        'system-banner': 'ููุตุฉ ุฑุณููุฉ ููุชุฌูุน ุงูุตุญู ุจููุฉ ุงูููุฑูุฉ',
        
        // ุงูููุชูุฑ
        'footer-org-name': 'ุชุฌูุน ููุฉ ุงูุตุญู',
        'footer-system-name': 'ูุธุงู ุงูุจูุงุบุงุช',
        'footer-description': 'ููุตุฉ ุฑุณููุฉ ูุชูุฏูู ููุชุงุจุนุฉ ุงูุจูุงุบุงุช',
        'footer-links-title': 'ุฑูุงุจุท ุณุฑูุนุฉ',
        'footer-link-home': 'ุงูุฑุฆูุณูุฉ',
        'footer-link-submit': 'ุชูุฏูู ุจูุงุบ',
        'footer-link-track': 'ูุชุงุจุนุฉ ุจูุงุบ',
        'footer-link-faq': 'ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ',
        'footer-contact-title': 'ูุนูููุงุช ุงูุชูุงุตู',
        'footer-support-number': 'ุฑูู ุงูุฏุนู: 0559735137',
        'footer-support-number-2': 'ุฑูู ุงูุฏุนู: 0542282550',
        'footer-support-email': 'support@makkahhealth.gov.sa',
        'footer-working-hours': 'ุณุงุนุงุช ุงูุนูู: 24/7',
        'footer-copyright': 'ยฉ 2025 ุชุฌูุน ููุฉ ุงูููุฑูุฉ ุงูุตุญู โ ุฌููุน ุงูุญููู ูุญููุธุฉ'
      },
      en: {
        // ุงูููุฏุฑ
        'nav-home': 'Home',
        'nav-dashboard': 'Dashboard',
        'nav-profile': 'My Profile',
        'nav-about': 'About System',
        'nav-help': 'Help',
        'nav-contact': 'Contact Us',
        'language-button': '๐ ุงูุนุฑุจูุฉ',
        
        // ุงููุณู ุงูุฑุฆูุณู
        'hero-title': 'Official Platform for Filing and Tracking Complaints',
        'hero-subtitle': 'Report, Track, and Get Solutions',
        
        // ุงูุฎุฏูุงุช
        'services-title': 'Core Services',
        'services-subtitle': 'Choose the service that suits you',
        'service1-title': 'Submit New Complaint',
        'service1-desc': 'File an official complaint easily',
        'service1-action': 'Start Now โ',
        'service2-title': 'Track Complaint',
        'service2-desc': 'Monitor complaint status',
        'service2-action': 'Start Now โ',
        'service3-title': 'Complaint History',
        'service3-desc': 'View your previous complaints',
        'service4-title': 'Administration',
        'service4-desc': 'Manage hospitals and hospital operations',
        'service5-title': 'Improvement Projects',
        'service5-desc': 'View, edit, and create improvement projects',
        'service5-action': 'Open Projects Hub โ',
        'service6-title': 'Excel Import',
        'service6-desc': '936 โข Mystery Shopper โข Departments',
        'service6-action': 'Open Import Page โ',
        'service7-title': 'Mystery Shopper Complaints',
        'service7-desc': 'View and follow up Mystery Shopper complaints',
        'service7-action': 'Open page โ',
        'service8-title': 'File Archive',
        'service8-desc': 'Upload and store files in archive',
        'service8-action': 'Open Archive โ',
        'service9-title': 'Cluster Management Complaint (New)',
        'service9-desc': 'Record a field observation with attachments',
        'service9-action': 'Start โ',
        'service10-title': 'Cluster Management Complaints',
        'service10-desc': 'View and filter complaints',
        'service10-action': 'Open page โ',
        'service11-title': 'Press Ganey',
        'service11-desc': 'Patient experience results analysis',
        'service11-action': 'Open Press Ganey Dashboard โ',
        
        // ุงููููุฒุงุช
        'why-choose-title': 'Why Choose Our Complaint System?',
        'why-choose-subtitle': 'Features that make your experience better',
        'feature1-title': 'Guaranteed Security and Privacy',
        'feature1-desc': 'All data is encrypted and protected',
        'feature2-title': 'Fast Response with Clear Time Indicators',
        'feature2-desc': 'Complaints are handled immediately upon registration',
        'feature3-title': 'Simple Interface Supporting Arabic and English',
        'feature3-desc': 'Simple and fast interface for all users',
        'feature4-title': 'Follow-up Until Closure with Notifications',
        'feature4-desc': 'Regular notifications until complaint closure',
        
        // ุงูุฅุญุตุงุฆูุงุช
        'stat1-desc': '+15K Processed Complaints',
        'stat2-desc': '+5K Active Beneficiaries',
        'stat3-desc': '100% Hospital Coverage',
        
        // ุดุนุงุฑ ุงููุธุงู
        'system-banner': 'Official Platform for Makkah Health Cluster',
        
        // ุงูููุชูุฑ
        'footer-org-name': 'Makkah Health Cluster',
        'footer-system-name': 'Complaint System',
        'footer-description': 'Official platform for filing and tracking complaints',
        'footer-links-title': 'Quick Links',
        'footer-link-home': 'Home',
        'footer-link-submit': 'Submit Complaint',
        'footer-link-track': 'Track Complaint',
        'footer-link-faq': 'FAQ',
        'footer-contact-title': 'Contact Information',
        'footer-support-number': 'Support Number: 0559735137',
        'footer-support-email': 'support@makkahhealth.gov.sa',
        'footer-working-hours': 'Working Hours: 24/7',
        'footer-copyright': 'ยฉ 2025 Makkah Health Cluster โ All Rights Reserved'
      }
    };

    // ุงูุญุงูุฉ ุงูุญุงููุฉ ููุบุฉ
    let currentLanguage = 'ar';

    // ุฏุงูุฉ ุชุทุจูู ุงูุชุฑุฌูุฉ
    function applyTranslation(lang) {
      const elements = translations[lang];
      if (!elements) return;

      // ุชุทุจูู ุงูุชุฑุฌูุฉ ุนูู ุฌููุน ุงูุนูุงุตุฑ
      Object.keys(elements).forEach(id => {
        const element = document.getElementById(id);
        if (element) {
          element.textContent = elements[id];
        }
      });

      // ุชุบููุฑ ุงุชุฌุงู ุงููุต
      if (lang === 'en') {
        document.documentElement.setAttribute('dir', 'ltr');
        document.documentElement.setAttribute('lang', 'en');
        // ุชุบููุฑ ูุญุงุฐุงุฉ ุงููุตูุต ููุนุฑุจูุฉ
        document.querySelectorAll('[id^="hero"], [id^="services"], [id^="why-choose"]').forEach(el => {
          el.classList.remove('text-right', 'lg:text-right');
          el.classList.add('text-left', 'lg:text-left');
        });
      } else {
        document.documentElement.setAttribute('dir', 'rtl');
        document.documentElement.setAttribute('lang', 'ar');
        // ุงุณุชุนุงุฏุฉ ูุญุงุฐุงุฉ ุงููุตูุต ููุนุฑุจูุฉ
        document.querySelectorAll('[id^="hero"], [id^="services"], [id^="why-choose"]').forEach(el => {
          el.classList.remove('text-left', 'lg:text-left');
          el.classList.add('text-right', 'lg:text-right');
        });
      }

      currentLanguage = lang;
    }

    // ุชููุฆุฉ ุงููุธุงู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
    document.addEventListener('DOMContentLoaded', function() {
      // ุชุทุจูู ุงููุบุฉ ุงููุญููุธุฉ ุฃู ุงูุงูุชุฑุงุถูุฉ
      const savedLanguage = localStorage.getItem('selectedLanguage') || 'ar';
      applyTranslation(savedLanguage);
      
      // ุฑุจุท ุฒุฑ ุงููุบุฉ
      const languageToggle = document.getElementById('languageToggle');
      if (languageToggle) {
        languageToggle.addEventListener('click', function() {
          const newLang = currentLanguage === 'ar' ? 'en' : 'ar';
          applyTranslation(newLang);
          localStorage.setItem('selectedLanguage', newLang);
        });
      }
    });
  </script>

  <!-- ูุธุงู ุญูุงูุฉ ุงูุตูุญุงุช -->
  <script src="../public/assets/js/auth-check.js"></script>

  <!-- ูุธุงู ุฅุธูุงุฑ ุงููุฑูุช ุญุณุจ ุงูุตูุงุญูุงุช -->
  <script>
    const API_BASE = window.API_BASE || 'http://localhost:3001';
    const token = localStorage.getItem('authToken') || localStorage.getItem('token') || '';

    const $ = (s,c=document)=>c.querySelector(s);
    const cardSubmit  = $('#cardSubmit');
    const cardTrack   = $('#cardTrack');
    const cardHistory = $('#cardHistory');
    const cardAdmin   = $('#cardAdmin');
    const cardImprovements = $('#cardImprovements');
    const cardImports = $('#cardImports');
    const cardMystery = $('#cardMystery');
    const cardPressGaney = $('#cardPressGaney');
    const cardArchive = $('#cardArchive');
    const cardClusterCreate = $('#cardClusterCreate');
    const cardClusterList = $('#cardClusterList');
    
    // Debug: ุงูุชุญูู ูู ูุฌูุฏ ุงูุนูุงุตุฑ
    console.log('๐ Debug - DOM elements found:', {
      cardSubmit: !!cardSubmit,
      cardTrack: !!cardTrack,
      cardHistory: !!cardHistory,
      cardAdmin: !!cardAdmin
    });

    async function initHomeTiles(){
      try {
        // ุงุณุชุฏุนุงุก ูุงุญุฏ ููุตูุงุญูุงุช
        const res = await fetch(`${API_BASE}/api/auth/me-permissions`, {
          headers: { 'Accept':'application/json', ...(token?{Authorization:`Bearer ${token}`}:{}) },
          credentials:'include'
        });
        if (!res.ok) throw new Error('HTTP '+res.status);
        const payload = await res.json();

        const user = payload.user || {};
        const imports = payload.imports || {};
        const adminPanel = !!payload.adminPanel;

        // bypass ููุฏูุฑ ุงูุชุฌูุน
        const isClusterAdmin = (user.RoleID === 1) || (user.scope === 'central') || (user.HospitalID == null);

        if (isClusterAdmin) {
          // ุฃุธูุฑ ูู ุดูุก (ูุง ุนุฏุง ุงูุฃุฑุดูู - ูุนุชูุฏ ุนูู ุงูุตูุงุญูุงุช)
          [cardSubmit, cardTrack, cardHistory, cardAdmin, cardImprovements, cardImports, cardMystery, cardPressGaney, cardClusterCreate, cardClusterList]
            .forEach(el => el && (el.style.display = ''));
          if (cardAdmin) cardAdmin.classList.remove('hidden');
          
          // ๐ ุงูุฃุฑุดูู ูุนุชูุฏ ุนูู ุงูุตูุงุญูุงุช ุญุชู ููุฏูุฑ ุงูุชุฌูุน
          const adminArchivePerms = JSON.parse(localStorage.getItem('permissions') || '{}');
          // ูุญุงููุฉ ุฌูุจูุง ูู payload ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ
          if (!adminArchivePerms.archiveView && payload.archiveView !== undefined) {
            adminArchivePerms.archiveView = payload.archiveView || false;
            adminArchivePerms.archiveUpload = payload.archiveUpload || false;
            localStorage.setItem('permissions', JSON.stringify({ ...JSON.parse(localStorage.getItem('permissions') || '{}'), ...adminArchivePerms }));
          }
          if (adminArchivePerms.archiveView === true) {
            if (cardArchive) cardArchive.style.display = '';
          } else {
            if (cardArchive) cardArchive.style.display = 'none';
          }
          return;
        }

        // ===== ูุณุชุฎุฏู ุนุงุฏู: ุทุจูู ุงูุตูุงุญูุงุช =====

        // ุฅุฑูุงู ุงูุฅูุณู: ูุธูุฑ ุฅุฐุง IMPORTS_PAGE ุฃู ุฃู ุตูุงุญูุฉ ุงุณุชูุฑุงุฏ ูุฑุนูุฉ
        const canSeeImports = imports.importsPage || imports.importDepartments || imports.importMystery || imports.import937;
        if (cardImports) cardImports.style.display = canSeeImports ? '' : 'none';

        // ุงูุฒุงุฆุฑ ุงูุณุฑู: ูุธูุฑ ููุท ููู ูุฏูู ุตูุงุญูุฉ MYSTERY_MODULE
        const mystery = payload.mystery || {};
        // ุงุณุชุฎุฏุงู mysteryModule ูู ุงูุตูุงุญูุงุช ุงูุฑุฆูุณูุฉ ุฃู mystery.module ูู fallback
        const canSeeMystery = payload.mysteryModule || mystery.module || mystery.view || adminPanel;
        
        if (cardMystery) {
          if (canSeeMystery) {
            cardMystery.style.display = '';
            console.log('โ ุจุทุงูุฉ ุงูุฒุงุฆุฑ ุงูุณุฑู ูุฑุฆูุฉ - ุงูุตูุงุญูุฉ ููุฌูุฏุฉ');
          } else {
            cardMystery.style.display = 'none';
            console.log('๐ ุชู ุฅุฎูุงุก ุจุทุงูุฉ ุงูุฒุงุฆุฑ ุงูุณุฑู (ูุง ุชูุฌุฏ ุตูุงุญูุฉ MYSTERY_MODULE)');
          }
        }

        // ๐ ุงูุชุญูู ูู ุธููุฑ ุจุทุงูุฉ ุจุฑุณุฌููู ุญุณุจ ุงูุตูุงุญูุงุช
        const pressGaney = payload.pressganey || {};
        const pressGaneyModule = pressGaney.module ?? payload.pressganeyModule ?? false;
        const pressGaneyView = pressGaney.view ?? payload.pressganeyView ?? false;
        const canSeePressGaney = pressGaneyModule || pressGaneyView || isClusterAdmin;
        if (cardPressGaney) cardPressGaney.style.display = canSeePressGaney ? '' : 'none';

        // ุชูุฏูู ุจูุงุบ / ูุชุงุจุนุฉ / ุงูุณุฌู
        if (payload.canSubmit && cardSubmit) cardSubmit.style.display = '';
        if (payload.canTrack  && cardTrack)  cardTrack.style.display  = '';
        if (payload.canTrack  && cardHistory){
          // ุฅุนุฏุงุฏ ุจุฑุงููุชุฑ ุงููุทุงู ุฅู ุฑุบุจุชู
          const scope = payload.historyScope || '';
          const hid   = user?.HospitalID || '';
          const base  = '../public/complaints/history/complaints-history.html';
          const params = new URLSearchParams();
          if (scope) params.set('scope', scope);
          if (hid)   params.set('hospitalId', hid);
          cardHistory.onclick = () => window.location.href = params.toString()? `${base}?${params}` : base;
          cardHistory.style.display = '';
        }

        // ุงููุดุงุฑูุน ุงูุชุญุณูููุฉ
        const imp = payload.improvements || {};
        const canSeeImpr = imp.view || imp.create || adminPanel;
        if (cardImprovements) cardImprovements.style.display = canSeeImpr ? '' : 'none';

        // ๐ ุงูุชุญูู ูู ุธููุฑ ุฃููููุฉ ุงูุฃุฑุดูู ุญุณุจ ุงูุตูุงุญูุงุช
        // ุฅุฎูุงุก ุงูุฃููููุฉ ุงูุชุฑุงุถููุง
        if (cardArchive) cardArchive.style.display = 'none';
        
        // ูุฑุงุกุฉ ุตูุงุญูุงุช ุงููุณุชุฎุฏู ูู ุงูุชุฎุฒูู ุงููุญูู
        let archivePerms = JSON.parse(localStorage.getItem('permissions') || '{}');
        
        // ุฅุฐุง ูู ุชูู ุงูุตูุงุญูุงุช ููุฌูุฏุฉ ูู localStorageุ ุฌุฑูุจ ุฌูุจูุง ูู payload
        if (!archivePerms.archiveView && payload.archiveView !== undefined) {
          archivePerms = {
            ...archivePerms,
            archiveView: payload.archiveView || false,
            archiveUpload: payload.archiveUpload || false
          };
          localStorage.setItem('permissions', JSON.stringify({ ...JSON.parse(localStorage.getItem('permissions') || '{}'), ...archivePerms }));
        }
        
        // โ ุฅุธูุงุฑ ุงูุฃููููุฉ ููุท ุฅุฐุง ุนูุฏู ุตูุงุญูุฉ ุนุฑุถ ุงูุฃุฑุดูู (ุจุฏูู ุงุณุชุซูุงุกุงุช)
        if (archivePerms.archiveView === true) {
          if (cardArchive) cardArchive.style.display = '';
        }

        // ๐ ุงูุชุญูู ูู ุธููุฑ ุฃููููุงุช ุจูุงุบุงุช ุฅุฏุงุฑุฉ ุงูุชุฌูุน ุญุณุจ ุงูุตูุงุญูุงุช
        // ุชุญููู ุตูุงุญูุงุช ุงููุณุชุฎุฏู ูู ุงูุชุฎุฒูู ุงููุญูู (ุงููู ุฌุงู ูู /api/auth/me-permissions ุฃู /api/permissions/me)
        let perms = JSON.parse(localStorage.getItem('permissions') || '{}');
        
        // ุฅุฐุง ูู ุชูู ุงูุตูุงุญูุงุช ููุฌูุฏุฉ ูู localStorageุ ุฌุฑูุจ ุฌูุจูุง ูู payload
        if (!perms.clusterView && !perms.clusterSubmit) {
          // ุฌุฑูุจ ุงุณุชุฎุฏุงู ุงูุตูุงุญูุงุช ูู payload ูุจุงุดุฑุฉ (ูู /api/auth/me-permissions)
          if (payload.clusterView !== undefined || payload.clusterSubmit !== undefined) {
            perms = {
              ...perms, // ุงูุงุญุชูุงุธ ุจุงูุตูุงุญูุงุช ุงูุฃุฎุฑู
              clusterView: payload.clusterView || false,
              clusterSubmit: payload.clusterSubmit || false,
              clusterDetails: payload.clusterDetails || false,
              clusterReply: payload.clusterReply || false,
              clusterStatus: payload.clusterStatus || false
            };
            // ุญูุธ ุงูุตูุงุญูุงุช ุงููุญุฏุซุฉ ูู localStorage
            localStorage.setItem('permissions', JSON.stringify(perms));
          }
        }
        
        // ๐ ุฅุฎูุงุคูุง ูุจุฏุฆููุง - ุงูุฃููููุงุช ุชุฎุชูู ุชูุงูุงู ุฅุฐุง ูู ุชูู ููุงู ุตูุงุญูุฉ
        if (cardClusterList) cardClusterList.style.display = 'none';
        if (cardClusterCreate) cardClusterCreate.style.display = 'none';
        
        // โ ุฅุธูุงุฑ "ุนุฑุถ ุจูุงุบุงุช ุฅุฏุงุฑุฉ ุงูุชุฌูุน" ููุท ุฅุฐุง ุนูุฏู ุตูุงุญูุฉ ุงูุนุฑุถ
        if (perms.clusterView === true) {
          if (cardClusterList) cardClusterList.style.display = '';
        }
        
        // โ ุฅุธูุงุฑ "ุฅูุดุงุก ุจูุงุบ ุฅุฏุงุฑุฉ ุงูุชุฌูุน" ููุท ุฅุฐุง ุนูุฏู ุตูุงุญูุฉ ุงูุชูุฏูู
        if (perms.clusterSubmit === true) {
          if (cardClusterCreate) cardClusterCreate.style.display = '';
        }

        // ููุญุฉ ุงูุฅุฏุงุฑุฉ
        if (cardAdmin) {
          const shouldShowAdmin = adminPanel;
          cardAdmin.style.display = shouldShowAdmin ? '' : 'none';
          if (shouldShowAdmin) cardAdmin.classList.remove('hidden');
        }
      } catch (e) {
        console.error('initHomeTiles failed:', e);
        // ูุดู ุงูุงุณุชุฏุนุงุก: ุฌุฑูุจ fallback ูู localStorage
        try {
          const userData = JSON.parse(localStorage.getItem('userData') || '{}');
          const isClusterAdmin = (userData.RoleID === 1) || (userData.scope === 'central') || (userData.HospitalID == null);
          if (isClusterAdmin) {
            // ูุฏูุฑ ุงูุชุฌูุน: ุฃุธูุฑ ูู ุดูุก (ูุง ุนุฏุง ุงูุฃุฑุดูู - ูุนุชูุฏ ุนูู ุงูุตูุงุญูุงุช)
            [cardSubmit, cardTrack, cardHistory, cardAdmin, cardImprovements, cardImports, cardMystery, cardPressGaney, cardClusterCreate, cardClusterList]
              .forEach(el => el && (el.style.display = ''));
            if (cardAdmin) cardAdmin.classList.remove('hidden');
            
            // ๐ ุงูุฃุฑุดูู ูุนุชูุฏ ุนูู ุงูุตูุงุญูุงุช ุญุชู ููุฏูุฑ ุงูุชุฌูุน
            const adminArchivePerms = JSON.parse(localStorage.getItem('permissions') || '{}');
            if (adminArchivePerms.archiveView === true) {
              if (cardArchive) cardArchive.style.display = '';
            } else {
              if (cardArchive) cardArchive.style.display = 'none';
            }
          } else {
            // ๐ ุงูุชุญูู ูู ุฃููููุงุช ุจูุงุบุงุช ุฅุฏุงุฑุฉ ุงูุชุฌูุน ูู localStorage
            const fallbackPerms = JSON.parse(localStorage.getItem('permissions') || '{}');
            // ๐ ุฅุฎูุงุคูุง ูุจุฏุฆููุง - ุงูุฃููููุงุช ุชุฎุชูู ุชูุงูุงู ุฅุฐุง ูู ุชูู ููุงู ุตูุงุญูุฉ
            if (cardClusterList) cardClusterList.style.display = 'none';
            if (cardClusterCreate) cardClusterCreate.style.display = 'none';
            if (cardArchive) cardArchive.style.display = 'none';
            
            // โ ุฅุธูุงุฑ "ุนุฑุถ ุจูุงุบุงุช ุฅุฏุงุฑุฉ ุงูุชุฌูุน" ููุท ุฅุฐุง ุนูุฏู ุตูุงุญูุฉ ุงูุนุฑุถ
            if (fallbackPerms.clusterView === true) {
              if (cardClusterList) cardClusterList.style.display = '';
            }
            
            // โ ุฅุธูุงุฑ "ุฅูุดุงุก ุจูุงุบ ุฅุฏุงุฑุฉ ุงูุชุฌูุน" ููุท ุฅุฐุง ุนูุฏู ุตูุงุญูุฉ ุงูุชูุฏูู
            if (fallbackPerms.clusterSubmit === true) {
              if (cardClusterCreate) cardClusterCreate.style.display = '';
            }
            
            // โ ุฅุธูุงุฑ ุฃููููุฉ ุงูุฃุฑุดูู ููุท ุฅุฐุง ุนูุฏู ุตูุงุญูุฉ ุงูุนุฑุถ
            if (fallbackPerms.archiveView === true) {
              if (cardArchive) cardArchive.style.display = '';
            }
          }
        } catch {}
      }
    }

    document.addEventListener('DOMContentLoaded', initHomeTiles);

    // ุฏูุงู ูุชุญ ุตูุญุงุช ุจูุงุบุงุช ุฅุฏุงุฑุฉ ุงูุชุฌูุน
    function openClusterCreate() {
      window.location.href = '../public/complaints/cluster/cluster-report-create.html';
    }

    function openClusterList() {
      window.location.href = '../public/complaints/cluster/cluster-reports-list.html';
    }
  </script>

  <!-- ููู JavaScript ูุฅุฎูุงุก ุงูุจุทุงูุงุช ูุงูุฑูุงุจุท ุจูุงุกู ุนูู ุงูุตูุงุญูุงุช -->
  <script src="../public/assets/js/navbar-permissions.js"></script>

  <!-- ูุธุงู ุงูุชูุจููุงุช ุงูููุฑูุฉ ููุจูุงุบุงุช ุงูุญุฑุฌุฉ -->
  <style>
    /* Pop-up ููุจูุงุบุงุช ุงูุญุฑุฌุฉ */
    #urgentAlertPopup {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
      color: white;
      padding: 2rem;
      border-radius: 16px;
      box-shadow: 0 20px 60px rgba(220, 38, 38, 0.5);
      z-index: 10000;
      max-width: 800px;
      width: 90%;
      animation: slideIn 0.3s ease-out;
      direction: rtl;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translate(-50%, -60%);
      }
      to {
        opacity: 1;
        transform: translate(-50%, -50%);
      }
    }

    #urgentAlertPopup.fadeOut {
      animation: fadeOut 0.3s ease-out forwards;
    }

    @keyframes fadeOut {
      from {
        opacity: 1;
        transform: translate(-50%, -50%);
      }
      to {
        opacity: 0;
        transform: translate(-50%, -40%);
      }
    }

    #urgentAlertPopup .alert-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
      font-size: 1.5rem;
      font-weight: bold;
    }

    #urgentAlertPopup .alert-icon {
      font-size: 2rem;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.1);
      }
    }

    #urgentAlertPopup .alert-content {
      line-height: 1.8;
    }

    #urgentAlertPopup .alert-item {
      margin-bottom: 0.75rem;
      padding: 0.5rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 8px;
    }

    #urgentAlertPopup .alert-label {
      font-weight: bold;
      margin-left: 0.5rem;
    }

    #urgentAlertPopup .alert-description {
      margin-top: 1rem;
      padding: 1rem;
      background: rgba(255, 255, 255, 0.15);
      border-radius: 8px;
      border-right: 4px solid white;
    }

    #urgentAlertPopup .alert-close {
      position: absolute;
      top: 1rem;
      left: 1rem;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }

    #urgentAlertPopup .alert-close:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    #urgentAlertOverlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 9999;
      animation: fadeIn 0.3s ease-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
  </style>

  <script>
    // ูุธุงู ุงูุชูุจููุงุช ุงูููุฑูุฉ ููุจูุงุบุงุช ุงูุญุฑุฌุฉ
    (function() {
      const isCentralAdmin = (() => {
        try {
          const userData = JSON.parse(localStorage.getItem('userData') || '{}');
          if (!userData || typeof userData !== 'object') return false;
          if (userData.RoleID === 1) return true;
          if (userData.IsClusterManager === true) return true;
          if (userData.HospitalID == null) return true;
        } catch (err) {
          console.warn('Failed to parse userData for urgent alerts:', err);
        }
        return false;
      })();

      if (!isCentralAdmin) {
        console.log('๐ซ ุฅุฎูุงุก ุชูุจูู ุงูุจูุงุบุงุช ุงูุญุฑุฌุฉ ูููุณุชุฎุฏู ุบูุฑ ุงููุฑูุฒู');
        return;
      }

      const API_BASE = window.API_BASE || 'http://localhost:3001';
      let lastCheckedTime = null;
      let currentPopup = null;
      let checkInterval = null;

      // โ ุนุฑุถ ูุงูุฐุฉ ูููุง ุฌููุน ุงูุจูุงุบุงุช ุงูุญุฑุฌุฉ
      function showAllUrgentPopup(complaints) {
        // ุฅุฒุงูุฉ ุฃู Pop-up ููุฌูุฏ ูุณุจูุงู
        if (currentPopup) {
          hideUrgentPopup();
        }

        // ุฅูุดุงุก Overlay
        const overlay = document.createElement('div');
        overlay.id = 'urgentAlertOverlay';
        overlay.onclick = hideUrgentPopup;

        // ุฅูุดุงุก Pop-up
        const popup = document.createElement('div');
        popup.id = 'urgentAlertPopup';
        popup.style.maxWidth = '800px';
        popup.style.maxHeight = '80vh';
        popup.style.overflowY = 'auto';

        let html = `
          <button class="alert-close" onclick="hideUrgentPopup()" aria-label="ุฅุบูุงู">ร</button>
          <div class="alert-header">
            <span class="alert-icon">๐จ</span>
            <span>ุจูุงุบุงุช ุญุฑูุฌุฉ ุญุงููุงู (${complaints.length})</span>
          </div>
          <div class="alert-content" style="margin-top: 1rem;">
            <table style="width:100%; border-collapse: collapse; font-size: 0.9rem;">
              <thead>
                <tr style="border-bottom:2px solid rgba(255,255,255,0.3); background: rgba(255,255,255,0.1);">
                  <th style="padding: 0.75rem; text-align: right; font-weight: bold;">ุงููุณุชุดูู</th>
                  <th style="padding: 0.75rem; text-align: right; font-weight: bold;">ุงููุณู</th>
                  <th style="padding: 0.75rem; text-align: right; font-weight: bold;">ุฑูู ุงูุชุฐูุฑุฉ</th>
                  <th style="padding: 0.75rem; text-align: right; font-weight: bold;">ุงููุตู</th>
                </tr>
              </thead>
              <tbody>
        `;

        for (const c of complaints) {
          const description = (c.Description || '').substring(0, 80);
          html += `
            <tr 
              style="border-bottom:1px solid rgba(255,255,255,0.1); cursor:pointer; transition: background 0.2s;"
              onmouseover="this.style.background='rgba(255,255,255,0.15)'"
              onmouseout="this.style.background='transparent'"
              onclick="openComplaintDetails('${c.TicketNumber || ''}', ${c.HospitalID || 'null'})"
            >
              <td style="padding: 0.75rem; text-align: right;">${c.HospitalNameAr || c.HospitalNameEn || 'ุบูุฑ ูุญุฏุฏ'}</td>
              <td style="padding: 0.75rem; text-align: right;">${c.DepartmentNameAr || c.DepartmentNameEn || 'ุบูุฑ ูุญุฏุฏ'}</td>
              <td style="padding: 0.75rem; text-align: right; font-weight: bold;">${c.TicketNumber || 'ุบูุฑ ูุญุฏุฏ'}</td>
              <td style="padding: 0.75rem; text-align: right;">${description || 'ูุง ููุฌุฏ ูุตู'}${c.Description && c.Description.length > 80 ? '...' : ''}</td>
            </tr>
          `;
        }

        html += `
              </tbody>
            </table>
          </div>
        `;

        popup.innerHTML = html;

        document.body.appendChild(overlay);
        document.body.appendChild(popup);
        currentPopup = { overlay, popup };

        // ุฅุฎูุงุก ุชููุงุฆู ุจุนุฏ 8 ุซูุงูู
        setTimeout(() => {
          hideUrgentPopup();
        }, 8000);
      }

      // ุฏุงูุฉ ุฅุฎูุงุก Pop-up
      function hideUrgentPopup() {
        // ุฅุฒุงูุฉ ุงููุงูุฐุฉ ูุจุงุดุฑุฉ ูู DOM
        const popup = document.getElementById('urgentAlertPopup');
        const overlay = document.getElementById('urgentAlertOverlay');
        
        if (popup) {
          popup.classList.add('fadeOut');
          setTimeout(() => {
            if (popup.parentNode) {
              popup.parentNode.removeChild(popup);
            }
          }, 300);
        } else if (popup && popup.parentNode) {
          // ุฅุฒุงูุฉ ูุจุงุดุฑุฉ ุฅุฐุง ูู ุชูู ููุงู ุญุฑูุฉ
          popup.parentNode.removeChild(popup);
        }
        
        if (overlay) {
          if (overlay.parentNode) {
            overlay.parentNode.removeChild(overlay);
          }
        }
        
        // ุชูุธูู ุงููุฑุฌุน
        currentPopup = null;
        
        // โ ุฅุฒุงูุฉ ุฏุงูุฉ openComplaintDetails ูู window ุจุนุฏ ุฅุฎูุงุก ุงููุงูุฐุฉ
        // (ููู ูุชุฑููุง ูุฃููุง ูุฏ ุชูุณุชุฏุนู ูู ุฏุงุฎู ุงููุงูุฐุฉ ูุจู ุงูุฅุฎูุงุก)
        // ุจุฏูุงู ูู ุฐููุ ุณูุถูู ุชุญูู ูู ุงูุฏุงูุฉ ููุณูุง
      }

      // ุฌุนู ุงูุฏุงูุฉ ูุชุงุญุฉ ุนุงูููุงู
      window.hideUrgentPopup = hideUrgentPopup;

      // โ ุฏุงูุฉ ูุชุญ ุตูุญุฉ ุชูุงุตูู ุงูุจูุงุบ
      function openComplaintDetails(ticketNumber, hospitalId) {
        // โ ุงูุชุญูู ูู ูุฌูุฏ ุงููุงูุฐุฉ ูุจู ุงูุงูุชูุงู
        const popup = document.getElementById('urgentAlertPopup');
        if (!popup || !popup.parentNode) {
          console.warn('โ๏ธ ุงููุงูุฐุฉ ุบูุฑ ููุฌูุฏุฉ - ุชู ุฅูุบุงุก ุงูุงูุชูุงู');
          return;
        }

        if (!ticketNumber || ticketNumber === 'โ' || ticketNumber === 'ุบูุฑ ูุญุฏุฏ') {
          console.error('โ ุฑูู ุงูุชุฐูุฑุฉ ููููุฏ ุฃู ุบูุฑ ุตุงูุญ');
          return;
        }

        // ุจูุงุก ุงููุณุงุฑ ูุน ุฑูู ุงูุชุฐูุฑุฉ ู HospitalID (ุฅู ูุฌุฏ)
        let url = `../public/complaints/history/complaint-details.html?ticket=${encodeURIComponent(ticketNumber)}`;
        
        if (hospitalId && hospitalId !== 'null' && hospitalId !== null) {
          url += `&hid=${hospitalId}`;
        }

        console.log('๐ ูุชุญ ุชูุงุตูู ุงูุจูุงุบ:', { ticket: ticketNumber, hospitalId, url });
        
        // ุฅุฎูุงุก ุงููุงูุฐุฉ ุฃููุงู
        hideUrgentPopup();
        
        // ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ุงูุชูุงุตูู ุจุนุฏ ุชุฃุฎูุฑ ุจุณูุท
        setTimeout(() => {
          window.location.href = url;
        }, 100);
      }

      // ุฌุนู ุงูุฏุงูุฉ ูุชุงุญุฉ ุนุงูููุงู ููุท ุนูุฏ ูุฌูุฏ ุงููุงูุฐุฉ
      window.openComplaintDetails = openComplaintDetails;

      // โ ุฌูุจ ูู ุงูุจูุงุบุงุช ุงูุญุฑุฌุฉ ูู ุฌููุน ุงููุณุชุดููุงุช
      async function checkUrgentAll() {
        try {
          const response = await fetch(`${API_BASE}/api/public/complaints/urgent-all`, {
            method: 'GET',
            headers: {
              'Accept': 'application/json'
            }
          });

          if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
          }

          const data = await response.json();

          if (data.success && data.hasUrgent && data.complaints && data.complaints.length > 0) {
            showAllUrgentPopup(data.complaints);
            // ุชุญุฏูุซ ููุช ุขุฎุฑ ูุญุต ุจุฃุญุฏุซ ุจูุงุบ
            if (data.complaints.length > 0) {
              const latestComplaint = data.complaints.sort((a, b) => 
                new Date(b.CreatedAt) - new Date(a.CreatedAt)
              )[0];
              lastCheckedTime = new Date(latestComplaint.CreatedAt);
            }
          }
        } catch (error) {
          console.error('โ ุฎุทุฃ ูู ุฌูุจ ุงูุจูุงุบุงุช ุงูุญุฑุฌุฉ:', error);
        }
      }

      // ุฏุงูุฉ ูุญุต ุงูุจูุงุบุงุช ุงูุญุฑุฌุฉ ุงูุฌุฏูุฏุฉ
      async function checkUrgentNew() {
        try {
          const response = await fetch(`${API_BASE}/api/public/complaints/urgent-all`, {
            method: 'GET',
            headers: {
              'Accept': 'application/json'
            }
          });

          if (!response.ok) {
            throw new Error(`HTTP ${response.status}`);
          }

          const data = await response.json();

          if (data.success && data.hasUrgent && data.complaints && data.complaints.length > 0) {
            // ููุชุฑุฉ ุงูุจูุงุบุงุช ุงูุฌุฏูุฏุฉ ููุท (ุจุนุฏ lastCheckedTime)
            let newComplaints = data.complaints;
            if (lastCheckedTime) {
              newComplaints = data.complaints.filter(c => 
                new Date(c.CreatedAt) > lastCheckedTime
              );
            }

            // ุฅุฐุง ูุงู ููุงู ุจูุงุบุงุช ุฌุฏูุฏุฉุ ุงุนุฑุถูุง
            if (newComplaints.length > 0) {
              // ุงุฌูุจ ูู ุงูุจูุงุบุงุช ูุนุฑุถูุง (ููุณ ููุท ุงูุฌุฏูุฏุฉ)
              showAllUrgentPopup(data.complaints);
              
              // ุชุญุฏูุซ ููุช ุขุฎุฑ ูุญุต ุจุฃุญุฏุซ ุจูุงุบ
              const latestComplaint = data.complaints.sort((a, b) => 
                new Date(b.CreatedAt) - new Date(a.CreatedAt)
              )[0];
              lastCheckedTime = new Date(latestComplaint.CreatedAt);
            }
          }
        } catch (error) {
          console.error('โ ุฎุทุฃ ูู ูุญุต ุงูุจูุงุบุงุช ุงูุญุฑุฌุฉ ุงูุฌุฏูุฏุฉ:', error);
        }
      }

      // ุชููุฆุฉ ุงููุธุงู ุนูุฏ ุชุญููู ุงูุตูุญุฉ
      document.addEventListener('DOMContentLoaded', function() {
        // ุฌูุจ ูู ุงูุจูุงุบุงุช ุงูุญุฑุฌุฉ ุนูุฏ ุชุญููู ุงูุตูุญุฉ
        checkUrgentAll();

        // ูุญุต ูุณุชูุฑ ูู 10 ุซูุงูู
        checkInterval = setInterval(() => {
          checkUrgentNew();
        }, 10000); // 10 ุซูุงูู
      });

      // ุชูุธูู ุนูุฏ ุฅุบูุงู ุงูุตูุญุฉ
      window.addEventListener('beforeunload', function() {
        if (checkInterval) {
          clearInterval(checkInterval);
        }
        hideUrgentPopup();
      });
    })();
  </script>
</body>
</html>
